{% extends 'base.html' %}
{% load static %}

{% block content %}
    <h2>Statistics</h2>
    <p>Total Messages: {{ total_messages }}</p>
    <h3>Threads</h3>
    <div class="threads-grid">
        {% for thread in threads %}
            <a href="{% url 'web:thread_detail' thread.id %}" class="thread-card">
                <h4>{{ thread.title }}</h4>
                <p>Prefix: {{ thread.prefix|default:"None" }}</p>
                <p>Messages: {{ thread.message_count }}</p>
                <p>Created: {{ thread.created_at|date:"Y-m-d H:i" }}</p>
                <p>Last Parsed: {{ thread.last_parsed_at|date:"Y-m-d H:i"|default:"Not parsed yet" }}</p>
            </a>
        {% empty %}
            <p>No threads available</p>
        {% endfor %}
    </div>
{% endblock %}